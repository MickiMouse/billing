(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d7b86ee"],{"00da":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-content",{attrs:{color:"primary"}},[e("v-container",{attrs:{fluid:"",id:"main-container","grid-list-md":"","fill-height":""}},[e("v-snackbar",{attrs:{timeout:t.timeout,top:""},model:{value:t.snackbar,callback:function(a){t.snackbar=a},expression:"snackbar"}},[t._v("\n            "+t._s(t.text)+"\n            "),e("v-btn",{attrs:{flat:""},on:{click:function(a){t.snackbar=!1}}},[t._v("\n                Close\n            ")])],1),e("v-layout",{attrs:{"justify-center":""}},[e("v-flex",{attrs:{md8:""}},[e("v-card",{staticClass:"mx-auto",attrs:{loading:t.loading}},[e("v-list",{attrs:{"two-line":"",subheader:"",dense:""}},[e("v-subheader",[t._v("Details\n                            ")]),e("v-list-tile",{attrs:{avatar:""},on:{click:function(t){}}},[e("v-list-tile-avatar",[e("v-icon",{staticClass:"grey lighten-1 white--text"},[t._v("archive")])],1),e("v-list-tile-content",[e("v-list-tile-title",[t._v("Header")]),e("v-list-tile-sub-title",[t._v(t._s(t.details.header)+"\n                                ")])],1)],1),e("v-list-tile",{attrs:{avatar:""},on:{click:function(t){}}},[e("v-list-tile-avatar",[e("v-icon",{staticClass:"grey lighten-1 white--text"},[t._v("account_balance_wallet")])],1),e("v-list-tile-content",[e("v-list-tile-title",[t._v("Tariff")]),e("v-list-tile-sub-title",[t._v(t._s(t.details.tariff))])],1)],1),e("v-list-tile",{attrs:{avatar:""},on:{click:function(t){}}},[e("v-list-tile-avatar",[e("v-icon",{staticClass:"grey lighten-1 white--text"},[t._v("tv_off")])],1),e("v-list-tile-content",[e("v-list-tile-title",[t._v("Age limit")]),e("v-list-tile-sub-title",[t._v(t._s(t.details.age_limit))])],1)],1),t.details.cards?e("v-list-tile",{attrs:{avatar:""},on:{click:function(t){}}},[e("v-list-tile-avatar",[e("v-icon",{staticClass:"grey lighten-1 white--text"},[t._v("card_membership")])],1),e("v-list-tile-content",[e("v-list-tile-title",[t._v("Card")]),e("v-list-tile-sub-title",[t._v(t._s(t.details.cards.label))])],1),e("v-list-tile-avatar",[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[e("v-btn",t._g({attrs:{to:"/cards/"+t.details.cards.pk+"/details/",color:"info",fab:"",small:"",dark:""}},n),[e("v-icon",[t._v("info")])],1)]}}],null,!1,2422755480)},[e("span",[t._v("Detail")])])],1)],1):t._e()],1)],1)],1),e("v-flex",{attrs:{md4:""}},[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.bouquets,"items-per-page":"5",loading:t.loadingPackages},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",{staticClass:"text-xs-left no-wrap"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-left no-wrap"},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[e("v-btn",t._g({attrs:{to:"/subscribers/"+a.item.pk+"/details/",color:"info",fab:"",small:"",dark:""}},i),[e("v-icon",[t._v("info")])],1)]}}],null,!0)},[e("span",[t._v("Detail")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[e("v-btn",t._g({attrs:{color:"error",fab:"",small:"",dark:""},on:{click:function(e){return t.removeCard(a.item.pk)}}},i),[e("v-icon",[t._v("close")])],1)]}}],null,!0)},[e("span",[t._v("Remove")])])],1)]}}])})],1)],1)],1)],1)},i=[],s=e("bc3a"),o=e.n(s),c={name:"PackagesDetails",data:function(){return{snack:!1,snackColor:"",snackText:"",loading:!0,loadingPackages:!0,loadingAviablePackages:!0,snackbar:!1,dialog:!1,text:"Oops... Something went wrong",timeout:5e3,newBalance:"",details:{},headers:[{text:"Header",align:"left",value:"name"},{text:"Action",value:"action",sortable:!1}],bouquets:[],aviablePackages:[],rules:{counter:function(t){return t<=2147483647||"Max 2147483647"},number:function(t){var a=/^\d+$/;return a.test(t)||"Invalid number."}}}},computed:{},methods:{save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},getData:function(){var t=this;this.loadingPackages=!0,o.a.get("".concat(this.$hostname,"/api/packages/").concat(this.$route.params.id,"/")).then(function(a){200===a.status&&(console.log(a.data),t.details=a.data,t.bouquets=t.details.bouquets,t.newBalance=t.details.balance,t.loadingPackages=!1,console.log(a.data,t.bouquets))}).catch(function(a){t.text="Connection error",console.log(a),t.snackbar=!0}),this.loadingAviablePackages=!0,o.a.get("".concat(this.$hostname,"/api/packages-filter/").concat(this.$route.params.id,"/")).then(function(a){200===a.status&&(t.aviablePackages=a.data,t.loadingAviablePackages=!1,console.log(a.data))}).catch(function(a){t.text="Connection error",console.log(a),t.snackbar=!0})},changeBalance:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var a={balance:this.newBalance};o.a.put("".concat(this.$hostname,"/api/subscribers/edit/balance/").concat(this.$route.params.id,"/"),a).then(function(a){200===a.status&&(t.details.balance=a.data.balance,t.newBalance=t.details.balance,t.loading=!1,t.dialog=!1,t.text="Balance changed!",t.snackbar=!0)}).catch(function(a){t.text="Connection error",console.log(a),t.snackbar=!0})}else this.text="Fill the form correctly",this.snackbar=!0},addPackage:function(t){var a=this;o.a.put("".concat(this.$hostname,"/api/packages/edit/package/").concat(this.$route.params.id,"/"),{package:t}).then(function(t){200===t.status&&(console.log(t.data),a.getData())}).catch(function(t){a.text="Connection error",console.log(t),a.snackbar=!0})},removeCard:function(t){var a=this;o.a.put("".concat(this.$hostname,"/api/packages/delete/package/").concat(this.$route.params.id,"/"),{package:t}).then(function(t){200===t.status&&(console.log(t.data),a.getData())}).catch(function(t){a.text="Connection error",console.log(t),a.snackbar=!0})},deleteSubscriber:function(){var t=this;o.a.delete("".concat(this.$hostname,"/api/subscribers/delete/").concat(this.$route.params.id,"/")).then(function(a){200===a.status&&(console.log(a.data),t.$router.push("/subscribers"))}).catch(function(a){t.text="Connection error",console.log(a),t.snackbar=!0})}},beforeCreate:function(){this.$session.exists()||this.$router.push("/")},mounted:function(){this.getData()}},r=c,l=e("2877"),u=e("6544"),d=e.n(u),v=e("8336"),h=e("b0af"),b=e("a523"),f=e("549c"),g=e("8fea"),m=e("0e8f"),p=e("132d"),k=e("a722"),_=e("8860"),x=e("ba95"),C=e("c954"),y=e("5d23"),w=e("2db4"),$=e("e0c7"),S=e("3a2f"),O=Object(l["a"])(r,n,i,!1,null,"3c449ee3",null);a["default"]=O.exports;d()(O,{VBtn:v["a"],VCard:h["a"],VContainer:b["a"],VContent:f["a"],VDataTable:g["a"],VFlex:m["a"],VIcon:p["a"],VLayout:k["a"],VList:_["a"],VListTile:x["a"],VListTileAvatar:C["a"],VListTileContent:y["a"],VListTileSubTitle:y["b"],VListTileTitle:y["c"],VSnackbar:w["a"],VSubheader:$["a"],VTooltip:S["a"]})},"23bf":function(t,a,e){"use strict";var n=e("80d2"),i=e("2b0e");a["a"]=i["a"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var t={},a=Object(n["c"])(this.height),e=Object(n["c"])(this.minHeight),i=Object(n["c"])(this.minWidth),s=Object(n["c"])(this.maxHeight),o=Object(n["c"])(this.maxWidth),c=Object(n["c"])(this.width);return a&&(t.height=a),e&&(t.minHeight=e),i&&(t.minWidth=i),s&&(t.maxHeight=s),o&&(t.maxWidth=o),c&&(t.width=c),t}}})},b0af:function(t,a,e){"use strict";e("4c94"),e("d0e7");var n=e("b64a"),i=e("2b0e");function s(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var o=i["a"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){return this.computedElevation?s({},"elevation-"+this.computedElevation,!0):{}}}}),c=e("23bf"),r=e("6a18"),l=e("58df"),u=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},d=Object(l["a"])(n["a"],o,c["a"],r["a"]).extend({name:"v-sheet",props:{tag:{type:String,default:"div"},tile:Boolean},computed:{classes:function(){return u({"v-sheet":!0,"v-sheet--tile":this.tile},this.themeClasses,this.elevationClasses)},styles:function(){return this.measurableStyles}},render:function(t){var a={class:this.classes,style:this.styles,on:this.$listeners};return t(this.tag,this.setBackgroundColor(this.color,a),this.$slots.default)}}),v=d,h=e("0d01"),b=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};a["a"]=Object(l["a"])(h["a"],v).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,raised:Boolean},computed:{classes:function(){return b({"v-card":!0,"v-card--flat":this.flat,"v-card--hover":this.hover},v.options.computed.classes.call(this))},styles:function(){var t=b({},v.options.computed.styles.call(this));return this.img&&(t.background='url("'+this.img+'") center center / cover no-repeat'),t}},render:function(t){var a=this.generateRouteLink(this.classes),e=a.tag,n=a.data;return n.style=this.styles,t(e,this.setBackgroundColor(this.color,n),this.$slots.default)}})},d0e7:function(t,a,e){}}]);
//# sourceMappingURL=chunk-5d7b86ee.bbf09735.js.map